# My Application

The project is generated by [LoopBack](http://loopback.io).

{
"username":"user1",
"password":"passw0rd"
}

{
  "title": "2"
}

{
  "url": "http://www.youtube.com/user1?v=1",
  "title": "question 1",
  "description": "question one",
  "datePublished": "2016-07-29",
}


  var fields = ['url', 'title', 'description', 'datePublished', 'memberId'];
  Question.prototype.toJSON = function() {
	  var obj = this.toObject(true, true, true, true, false);
	  var json = {};
	  for(var p in obj) {
	     if(fields.indexOf(p) === -1) continue;
	     json[p] = obj[p];
	  }
	  return json;
  }


  /**
   * model hooks
   */
  Question.beforeUpdate = function(next, modelInstance) {
	  console.log('===== Question.beforeUpdate');
	  next();
  };
  Question.beforeSave = function(next, modelInstance) {
	  console.log('===== Question.beforeSave');
	  next();
  };
  Question.beforeValidate = function(next, modelInstance) {
	  console.log('===== Question.beforeValidate');
	  next();
  };

  /** 
   * remote hooks
   */
  Question.beforeRemote('create', function(ctx, modelInstance, next){
        console.log('===== beforeRemote.update');
        if (ctx.instance) {
	    	console.log('c-----ctx.instance exists');
	    }else{
	    	console.log('c-----no ctx.instance');
	    }
	    if (ctx.currentInstance) {
	    	console.log('c-----ctx.currentInstance exists');
	    }else{
	    	console.log('c-----no ctx.currentInstance');
	    }

	    var lbCtx = loopback.getCurrentContext();
	    if (lbCtx.instance) {
	    	console.log('c-----lbCtx.instance exists');
	    }else{
	    	console.log('c-----no lbCtx.instance');
	    }
        next();
  });
  Question.beforeRemote('update', function(ctx, modelInstance, next){
        console.log('===== beforeRemote.update');
        next();
  });
  Question.beforeRemote('save', function(ctx, modelInstance, next){
        console.log('===== beforeRemote.save');	
        next();
  });
  Question.beforeRemote('validation', function(ctx, modelInstance, next){
        console.log('===== beforeRemote.update');
        next();
  });

  Question.beforeRemote('upsert', function( ctx, modelInstance, next) {
  	console.log('=====beforeRemote.upsert');
	next();
  });

  Question.beforeRemote('updateAttributes', function(ctx, modelInstance, next){
        console.log('===== beforeRemote.updateAttributes');
        next();
  });

  Question.beforeRemote('updateAttribute', function(ctx, modelInstance, next){
        console.log('===== beforeRemote.updateAttribute');
        next();
  });


